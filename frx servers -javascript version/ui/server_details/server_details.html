<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Server Details</title>
  <link rel="stylesheet" href="server_details.css" />
  <script src="https://unpkg.com/feather-icons"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="./system_monitor.js"></script>
</head>
<body>
  <div class="dashboard-container">
    
    <!-- === ðŸŸ© TOP SECTION === -->
    <div class="top-row">
      <!-- LEFT SIDE: SERVER INFO + STATUS CARD -->
      <div class="top-left glass-card">
        <div class="server-info">
          <img id="server-icon" src="" alt="Server Icon" />
          <div class="info-text">
            <h2 id="server-name">Server Name</h2>
            <p id="server-version">Version: --</p>
            <p id="server-type">Type: --</p>
          </div>
        </div>
        <div class="status-mini-card">
          <p id="server-status">Status: Offline</p>
          <p id="server-ip">IP: --.--.--.--</p>
          <button id="copy-ip-btn" class="btn copy" title="Copy IP to Clipboard">
            <i data-feather="copy"></i>
          </button>
        </div>
      </div>

      <!-- RIGHT SIDE: SERVER CONTROLS -->
      <div class="top-right glass-card">
        <h3>Server Controls</h3>
        <div class="control-buttons">
          <button id="start-btn" class="btn start">Start</button>
          <button id="stop-btn" class="btn stop hidden">Stop</button>
          <button id="restart-btn" class="btn restart hidden">Restart</button>
          <button id="kill-btn" class="btn kill hidden">Kill</button>
        </div>
      </div>
    </div>
    
    <!-- === ðŸŸ¦ SECOND ROW === -->
    <div class="main-row">
      <!-- === LEFT: MENU AREA === -->
      <div class="menu-section glass-card">
        <div class="menu-bar">
          <button class="menu-btn active" data-section="status">Status</button>
          <button class="menu-btn" data-section="console">Console</button>
          <button class="menu-btn" data-section="player-management">Players</button>
          <button class="menu-btn" data-section="properties">Properties</button>
          <div class="tooltip-wrapper" title="When server is online you can't go into Home Menu">
            <button id="home_menu" data-section="home_menu">Home</button>
          </div>
          <button id="open-folder-btn" class="btn folder" title="Open Folder">ðŸ“‚ Open Folder</button>
        </div>
      
        <!-- === SECTION CONTENTS === -->
        <div class="menu-content">
          
          <!-- STATUS -->
          <div id="status" class="section active">
            <div class="stats-card">
              <div class="stat-card">
                <div class="stat-icon">
                  <i data-feather="cpu"></i>
                </div>
                <div class="stat-info">
                  <h4>CPU Usage</h4>
                  <p id="cpu-usage">--%</p>
                </div>
              </div>

              <div class="stat-card">
                <div class="stat-icon">
                  <i data-feather="server"></i>
                </div>
                <div class="stat-info">
                  <h4>RAM Usage</h4>
                  <p id="ram-usage">--%</p>
                </div>
              </div>

              <div class="stat-card">
                <div class="stat-icon">
                  <i data-feather="clock"></i>
                </div>
                <div class="stat-info">
                  <h4>Uptime</h4>
                  <p id="uptime">--</p>
                </div>
              </div>
            </div>

            <!-- USAGE GRAPH -->
            <div class="card graph-card">
              <div class="graph-controls">
                <button class="graph-btn active" data-range="5">5m</button>
                <button class="graph-btn" data-range="10">10m</button>
                <button class="graph-btn" data-range="15">15m</button>
                <button class="graph-btn" data-range="30">30m</button>
              </div>
              <canvas id="usage-graph"></canvas>
            </div>
          </div>

          <!-- CONSOLE -->
          <div id="console" class="section">
            <div class="card console-card">
              <h3>Command Console</h3>
              <div class="console-box" id="console-output"></div>
              <label for="console-input">Enter Command:</label>
              <div class="console-input-group">
                <input id="console-input" type="text" placeholder="Type a command..." />
                <button id="send-command-btn" class="btn send-command">Send</button>
              </div>
            </div>
          </div>

          <!-- PLAYER MANAGEMENT(pm) -->
          <div id="player-management" class="section">
            <div class="pm-card">
              <div class="pm-header">
                <h3>Player Management</h3>
              </div>

              <div class="player-tabs">
                <button class="tab-btn active" data-type="ops">Ops</button>
                <button class="tab-btn" data-type="whitelist">Whitelist</button>
                <button class="tab-btn" data-type="banned">Banned</button>
              </div>

              <div class="player-controls">
                <input
                  type="text"
                  id="pm-search-input"
                  placeholder="Search players..."
                  class="pm-search"
                />
                <div class="add-player-box">
                  <input
                    type="text"
                    id="pm-add-player-input"
                    placeholder="Add player..."
                    class="pm-add-player-input"
                  />
                  <button id="pm-add-btn" class="pm-add-btn">ï¼‹</button>
                </div>
              </div>

              <div id="pm-list" class="pm-list">
                <!-- Players loaded via JS -->
              </div>
            </div>
          </div>


          <!--  PROPERTIES (Updated 2Ã— Grid Version) -->
          <div id="properties" class="section">
            <div class="properties-header">
              <h3>Server Properties</h3>
              <button id="save-properties-btn" class="btn save">ðŸ’¾ Save Properties</button>
            </div>

            <div class="properties-grid">
              
              <!-- Survival Settings -->
              <div class="property-card glass-card">
                <h4>Survival Settings</h4>
                <div class="property-item"><label for="difficulty">Difficulty</label>
                  <select id="difficulty">
                    <option value="peaceful">Peaceful</option>
                    <option value="easy" selected>Easy</option>
                    <option value="normal">Normal</option>
                    <option value="hard">Hard</option>
                  </select>
                </div>
                <div class="property-item"><label for="gamemode">Gamemode</label>
                  <select id="gamemode">
                    <option value="survival" selected>Survival</option>
                    <option value="adventure">Adventure</option>
                    <option value="spectator">Spectator</option>
                    <option value="creative">Creative</option>
                  </select>
                </div>
                <div class="property-item"><label for="allow-flight">Allow Flight</label>
                  <select id="allow-flight">
                    <option value="false" selected>False</option>
                    <option value="true">True</option>
                  </select>
                </div>
                <div class="property-item"><label for="hardcore">Hardcore</label>
                  <select id="hardcore">
                    <option value="false" selected>False</option>
                    <option value="true">True</option>
                  </select>
                </div>
              </div>

              <!-- Gameplay -->
              <div class="property-card glass-card">
                <h4>Gameplay</h4>
                <div class="property-item"><label for="enforce-whitelist">Enforce Whitelist</label>
                  <select id="enforce-whitelist">
                    <option value="false" selected>False</option>
                    <option value="true">True</option>
                  </select>
                </div>
                <div class="property-item"><label for="force-gamemode">Force Gamemode</label>
                  <select id="force-gamemode">
                    <option value="false" selected>False</option>
                    <option value="true">True</option>
                  </select>
                </div>
                <div class="property-item"><label for="hide-online-players">Hide Online Players</label>
                  <select id="hide-online-players">
                    <option value="false" selected>False</option>
                    <option value="true">True</option>
                  </select>
                </div>
                <div class="property-item"><label for="level-type">Level Type</label>
                  <select id="level-type">
                    <option value="minecraft:normal" selected>Normal</option>
                    <option value="flat">Flat</option>
                    <option value="largeBiomes">Large Biomes</option>
                    <option value="amplified">Amplified</option>
                  </select>
                </div>
              </div>

              <!-- Server Settings -->
              <div class="property-card glass-card">
                <h4>Server Settings</h4>
                <div class="property-item"><label for="max-players">Max Players</label>
                  <input id="max-players" type="number" min="1" max="100" value="20" />
                </div>
                <div class="property-item"><label for="max-tick-time">Max Tick Time (ms)</label>
                  <input id="max-tick-time" type="number" value="60000" />
                </div>
                <div class="property-item"><label for="max-world-size">Max World Size</label>
                  <input id="max-world-size" type="number" value="29999984" />
                </div>
                <div class="property-item"><label for="online-mode">Online Mode</label>
                  <select id="online-mode">
                    <option value="true" selected>True</option>
                    <option value="false">False</option>
                  </select>
                </div>
                <div class="property-item"><label for="op-permission-level">OP Permission Level</label>
                  <input id="op-permission-level" type="number" min="1" max="4" value="4" />
                </div>
                <div class="property-item"><label for="pause-when-empty-seconds">Pause When Empty (s)</label>
                  <input id="pause-when-empty-seconds" type="number" value="60" />
                </div>
                <div class="property-item"><label for="player-idle-timeout">Player Idle Timeout (s)</label>
                  <input id="player-idle-timeout" type="number" value="0" />
                </div>
                <div class="property-item"><label for="spawn-protection">Spawn Protection</label>
                  <input id="spawn-protection" type="number" value="16" />
                </div>
                <div class="property-item"><label for="white-list">Whitelist</label>
                  <select id="white-list">
                    <option value="false" selected>False</option>
                    <option value="true">True</option>
                  </select>
                </div>
              </div>

            </div>
          </div> 
        </div>
      </div>

      <!-- RIGHT PANEL: PLAYERS CARD + MINI CONSOLE -->
      <div class="right-panel">
        <div class="players-card glass-card tall-card">
          <h3 id="player-count">Players: 0/0</h3>

          <!-- ðŸ” Search box -->
          <input 
            type="text" 
            id="player-search" 
            placeholder="Search player..."
            class="player-search"
            oninput="filterPlayers()" 
          />

          <div id="player-list" class="player-list"></div>
        </div>
      </div>

  <script src="server_details.js"></script>
</body>
</html>
