<Server_Ops>:
    MDBoxLayout:
        orientation: "vertical"
        spacing: "12dp"
        padding: "12dp"
        md_bg_color: 0.1, 0.1, 0.12, 1

        # --- MAIN HEADER ---
        MDLabel:
            text: "Server Operators"
            font_style: "H3"
            halign: "center"
            theme_text_color: "Custom"
            text_color: 1, 1, 1, 1
            size_hint_y: None
            height: "64dp"

        # --- HEADER BAR ---
        MDBoxLayout:
            orientation: "horizontal"
            size_hint_y: None
            height: "56dp"
            spacing: "10dp"

            MDLabel:
                text: "Operators"
                font_style: "H5"
                theme_text_color: "Custom"
                text_color: 1, 1, 1, 1
                halign: "left"
                valign: "center"

            Widget:

            MDTextField:
                id: add_op
                hint_text: "Enter username..."
                mode: "rectangle"
                size_hint_x: 0.45
                fill_color: 0.18, 0.18, 0.22, 1
                line_color_normal: 0, 0.7, 1, 1
                line_color_focus: 0, 0.7, 1, 1
                text_color_normal: 1, 1, 1, 1
                text_color_focus: 1, 1, 1, 1
                hint_text_color_normal: 1, 1, 1, 1
                hint_text_color_focus: 1, 1, 1, 1

            MDFillRoundFlatIconButton:
                icon: "account-check"
                text: "Add"
                md_bg_color: 0.1, 0.6, 0.1, 1
                text_color: 1, 1, 1, 1
                on_release:
                    root.add_op(add_op.text)
                    add_op.text = ""

        # --- SEARCH BAR ---
        MDTextField:
            id: search_ops
            hint_text: "Search operators..."
            mode: "rectangle"
            size_hint_y: None
            height: "48dp"
            fill_color: 0.18, 0.18, 0.22, 1
            line_color_normal: 0, 0.7, 1, 1
            line_color_focus: 0, 0.7, 1, 1
            text_color_normal: 1, 1, 1, 1
            text_color_focus: 1, 1, 1, 1
            hint_text_color_normal: 1, 1, 1, 1
            hint_text_color_focus: 1, 1, 1, 1
            on_text: root.on_search_ops_text(self, self.text)

        # --- STATUS ---
        MDLabel:
            id: ops_status
            text: ""
            halign: "center"
            theme_text_color: "Custom"
            text_color: 1, 0.5, 0.2, 1
            size_hint_y: None
            height: "28dp"

        # --- OPS LIST ---
        ScrollView:
            MDList:
                id: ops_players_list

        # --- BOTTOM BACK BUTTON ---
        MDFloatingActionButton:
            icon: "arrow-left"
            md_bg_color: 0.2, 0.6, 0.9, 1
            pos_hint: {"center_x": 0.5}
            on_release: root.set_screen("status") if hasattr(root, "set_screen") else print("back")
