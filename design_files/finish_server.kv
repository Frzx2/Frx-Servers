<Finish_Server>:
    name: "finish_server"

    MDBoxLayout:
        orientation: "horizontal"
        padding: "20dp"
        spacing: "20dp"
        md_bg_color: 0.05, 0.05, 0.07, 1  # very dark background

        # --------------------- Left Panel: Controls ---------------------
        MDCard:
            id: control_card
            size_hint_x: 0.35
            radius: [25, 25, 25, 25]
            md_bg_color: 0.16, 0.16, 0.18, 1
            elevation: 14
            padding: "20dp"

            BoxLayout:
                orientation: "vertical"
                spacing: "20dp"

                # Main Ready Label
                MDLabel:
                    id: ready
                    text: "Ready to Start Server"
                    halign: "center"
                    theme_text_color: "Custom"
                    text_color: 0.4, 0.8, 1, 1
                    font_style: "H5"
                    size_hint_y: None
                    height: self.texture_size[1]

                # -------- Additional Labels ----------
                MDLabel:
                    id: info_label
                    text: "Select server options and press Start"
                    halign: "center"
                    theme_text_color: "Custom"
                    text_color: 0.7, 0.7, 0.9, 1
                    font_style: "Subtitle1"
                    size_hint_y: None
                    height: self.texture_size[1]

                # Spinner
                MDSpinner:
                    id: server_spinner
                    size_hint: None, None
                    size: "60dp", "60dp"
                    active: False
                    pos_hint: {"center_x": 0.5}
                    color: 0.2, 0.6, 1, 1

                # Buttons
                MDBoxLayout:
                    orientation: "vertical"
                    spacing: "15dp"

                    MDRaisedButton:
                        text: "Start"
                        id: start
                        md_bg_color: 0.2, 0.8, 0.2, 1  # green
                        text_color: 1, 1, 1, 1
                        elevation: 10
                        size_hint_x: 1
                        on_release: root.finish()

                    MDRaisedButton:
                        text: "Back"
                        md_bg_color: 0.25, 0.25, 0.25, 1
                        text_color: 1, 1, 1, 1
                        elevation: 8
                        size_hint_x: 1
                        on_release: root.back()

                    MDRaisedButton:
                        text: "Next"
                        id: next_btn
                        md_bg_color: 0.2, 0.6, 1, 1
                        text_color: 1, 1, 1, 1
                        elevation: 8
                        size_hint_x: 1
                        on_release: root.next()
                        disabled: True

        # --------------------- Right Panel: Server Log ---------------------
        MDCard:
            id: log_card
            size_hint_x: 0.65
            md_bg_color: 0.12, 0.12, 0.15, 1
            radius: [25, 25, 25, 25]
            elevation: 14
            padding: "15dp"

            BoxLayout:
                orientation: "vertical"
                spacing: "10dp"

                MDLabel:
                    text: "Server Log"
                    halign: "center"
                    font_style: "H6"
                    theme_text_color: "Custom"
                    text_color: 0.5, 0.8, 1, 1

                ScrollView:
                    MDList:
                        id: update_log
                        padding: "10dp"
