<Server_name_and_ram>:
    name: "server_name_and_ram"

    MDBoxLayout:
        orientation: "vertical"
        spacing: "20dp"
        padding: "20dp"
        md_bg_color: 0.1, 0.1, 0.1, 1  # dark background

        MDCard:
            orientation: "vertical"
            padding: "30dp"
            spacing: "20dp"
            radius: [25, 25, 25, 25]
            md_bg_color: 0.15, 0.15, 0.15, 1  # dark card
            elevation: 6
            size_hint: 0.85, 0.75
            pos_hint: {"center_x": 0.5, "center_y": 0.5}

            MDTextField:
                id: server_name
                hint_text: "Enter Server Name"
                helper_text: "This will be used as the server folder name"
                helper_text_mode: "on_focus"
                mode: "fill"
                fill_color: 0.2, 0.2, 0.2, 1   # dark fill
                icon_left: "server"
                size_hint_x: 0.9
                pos_hint: {"center_x": 0.5}
                text_color: 1, 1, 1, 1
                hint_text_color: 0.7, 0.7, 0.7, 1
                line_color_focus: 0.3, 0.6, 1, 1

            MDLabel:
                id: error_label
                text: ""   # initially empty
                halign: "center"
                theme_text_color: "Custom"
                text_color: 1, 0.2, 0.2, 1   # red for errors
                font_style: "Body2"

            MDLabel:
                id: ram_label
                text: "RAM: 2000 MB"
                halign: "center"
                font_style: "H6"
                theme_text_color: "Custom"
                text_color: 1, 1, 1, 1   # white text

            MDSlider:
                id: ram_slider
                min: 2000
                max: app.max_ram
                step: 256
                value: 2000
                hint: True
                color: 0.2, 0.6, 1, 1
                on_value: ram_label.text = f"RAM: {int(self.value)} MB"

            MDBoxLayout:
                spacing: "20dp"
                size_hint_y: None
                height: "50dp"
                pos_hint: {"center_x": 0.5}

                MDRaisedButton:
                    text: "Back"
                    md_bg_color: 0.3, 0.3, 0.3, 1   # dark grey button
                    text_color: 1, 1, 1, 1
                    elevation: 5
                    on_release: root.back()

                MDRaisedButton:
                    text: "Confirm"
                    md_bg_color: 0.2, 0.6, 1, 1
                    text_color: 1, 1, 1, 1
                    elevation: 5
                    on_release: root.save_server_data(server_name.text, int(ram_slider.value))
