<Server_Console>:
    MDBoxLayout:
        orientation: "vertical"
        md_bg_color: 0.07, 0.07, 0.07, 1

        # === Top Bar ===
        MDBoxLayout:
            orientation: "horizontal"
            size_hint_y: None
            height: "52dp"
            md_bg_color: 0.12, 0.12, 0.12, 1
            padding: "12dp"

            MDLabel:
                text: "Minecraft Server Console"
                theme_text_color: "Custom"
                text_color: 1, 1, 1, 1
                font_style: "H6"
                halign: "left"
                valign: "middle"

        # === Main Content ===
        MDBoxLayout:
            orientation: "horizontal"
            spacing: "16dp"
            padding: "12dp"

            # --- Left: Console Log ---
            MDCard:
                orientation: "vertical"
                md_bg_color: 0.12, 0.12, 0.15, 1
                radius: [16]
                padding: "12dp"
                spacing: "10dp"
                elevation: 8
                size_hint_x: 0.7

                MDLabel:
                    text: "Server Console"
                    halign: "left"
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    text_color: 0.8, 0.9, 1, 1
                    size_hint_y: None
                    height: "28dp"

                MDSeparator:

                ScrollView:
                    bar_width: "6dp"
                    MDLabel:
                        id: server_log
                        markup: True
                        halign: "left"
                        valign: "top"
                        size_hint_y: None
                        height: self.texture_size[1]
                        font_size: "17dp"

                # --- Command Input ---
                MDBoxLayout:
                    orientation: "horizontal"
                    size_hint_y: None
                    height: "44dp"
                    spacing: "6dp"
                    padding: "6dp"

                    MDTextField:
                        id: command_input
                        hint_text: "Type a command..."
                        text_color: 1, 1, 1, 1
                        mode: "fill"
                        fill_color: 0.08, 0.08, 0.08, 1
                        line_color_focus: 0.25, 0.5, 1, 1
                        line_color_normal: 0, 0, 0, 0
                        cursor_color: 1, 1, 1, 1
                        size_hint_x: 0.85
                        on_text_validate: root.send_command(self.text)

                    MDRaisedButton:
                        text: "Send"
                        md_bg_color: 0.25, 0.5, 1, 1
                        on_release: root.send_command(command_input.text)



            # --- Right: Controls ---
            MDCard:
                orientation: "vertical"
                md_bg_color: 0.14, 0.14, 0.18, 1
                radius: [16]
                padding: "12dp"
                spacing: "12dp"
                elevation: 6
                size_hint_x: 0.3

                MDRaisedButton:
                    id: start_btn
                    text: "Clear"
                    md_bg_color: 0.15, 0.75, 0.25, 1
                    text_color: 1, 1, 1, 1
                    on_release: root.clear_logs()

                MDRaisedButton:
                    id: stop_btn
                    text: "Save Logs"
                    md_bg_color: 0.9, 0.25, 0.25, 1
                    text_color: 1, 1, 1, 1
                    on_release: root.save_logs()

                MDRaisedButton:
                    id: restart_btn
                    text: "Refresh Logs"
                    md_bg_color: 1, 0.6, 0.2, 1
                    text_color: 1, 1, 1, 1
                    on_release: root.refresh_logs()

                MDSeparator:

                MDLabel:
                    id: server_info_label
                    text: "TPS: 20.0\nPlayers: 0/20"
                    theme_text_color: "Custom"
                    text_color: 0.9, 0.9, 0.9, 1
                    halign: "center"

                # === Bottom Navigation (in a Card) ===
        MDCard:
            id: bottom_menu_card
            orientation: "horizontal"
            size_hint_y: None
            height: "60dp"
            padding: "10dp"
            spacing: "20dp"
            md_bg_color: 0.12, 0.12, 0.15, 1
            radius: [20, 20, 0, 0]
            elevation: 6

            MDLabel:
                id: tab_status
                text: "Server Status"
                halign: "center"
                font_style: "Button"
                theme_text_color: "Custom"
                text_color: 1, 1, 1, 1
                on_touch_down: if self.collide_point(*args[1].pos): root.set_screen("status")

            MDLabel:
                id: tab_players
                text: "Players"
                halign: "center"
                font_style: "Button"
                theme_text_color: "Custom"
                text_color: 1, 1, 1, 1
                on_touch_down: if self.collide_point(*args[1].pos): root.set_screen("players")

            MDLabel:
                id: tab_console
                text: "Console"
                halign: "center"
                font_style: "Button"
                theme_text_color: "Custom"
                text_color: 1, 1, 1, 1
                on_touch_down: if self.collide_point(*args[1].pos): root.set_screen("console")

            MDLabel:
                id: tab_logs
                text: "Server Files"
                halign: "center"
                font_style: "Button"
                theme_text_color: "Custom"
                text_color: 1, 1, 1, 1
                on_touch_down: if self.collide_point(*args[1].pos): root.set_screen("server_file")

            MDLabel:
                id: tab_props
                text: "Properties"
                halign: "center"
                font_style: "Button"
                theme_text_color: "Custom"
                text_color: 1, 1, 1, 1
                on_touch_down: if self.collide_point(*args[1].pos): root.set_screen("server_properties")

            MDLabel:
                id: tab_home
                text: "Home"
                halign: "center"
                font_style: "Button"
                theme_text_color: "Custom"
                text_color: 1, 1, 1, 1
                on_touch_down: if self.collide_point(*args[1].pos): root.set_screen("homescreen")